(window["webpackJsonp8-tiles"]=window["webpackJsonp8-tiles"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(4),o=n.n(i),s=(n(14),n(15),n(1)),l=n(2),c=n(7),u=n(5),h=n(8);function p(e){for(var t=0,n=0;n<e.length-1;++n)for(var r=n+1;r<e.length;++r)e[n]>e[r]&&0!==e[n]&&0!==e[r]&&t++;return t}function v(){for(var e,t=[0,1,2,3,4,5,6,7,8],n=[],r=t.length;r;)(e=Math.floor(Math.random()*t.length))in t&&(n.push(t[e]),delete t[e],r--);return n}var m=n(6),f=function(e){return(e+1>>>1)-1},d=function(e){return 1+(e<<1)},y=function(e){return e+1<<1},_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){return e>t};Object(s.a)(this,e),this._heap=[],this._comparator=t}return Object(l.a)(e,[{key:"size",value:function(){return this._heap.length}},{key:"isEmpty",value:function(){return 0===this.size()}},{key:"peek",value:function(){return this._heap[0]}},{key:"push",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e._heap.push(t),e._siftUp()}),this.size()}},{key:"pop",value:function(){var e=this.peek(),t=this.size()-1;return t>0&&this._swap(0,t),this._heap.pop(),this._siftDown(),e}},{key:"replace",value:function(e){var t=this.peek();return this._heap[0]=e,this._siftDown(),t}},{key:"_greater",value:function(e,t){return this._comparator(this._heap[e],this._heap[t])}},{key:"_swap",value:function(e,t){var n=[this._heap[t],this._heap[e]];this._heap[e]=n[0],this._heap[t]=n[1]}},{key:"_siftUp",value:function(){for(var e=this.size()-1;e>0&&this._greater(e,f(e));)this._swap(e,f(e)),e=f(e)}},{key:"_siftDown",value:function(){for(var e=0;d(e)<this.size()&&this._greater(d(e),e)||y(e)<this.size()&&this._greater(y(e),e);){var t=y(e)<this.size()&&this._greater(y(e),d(e))?y(e):d(e);this._swap(e,t),e=t}}}]),e}(),g=function(){function e(t){Object(s.a)(this,e),this.arr=t,this.empty_pos=this.calc_empty(),this.priority=this.hamming(),this.parent=-1}return Object(l.a)(e,[{key:"hamming",value:function(){for(var e=0,t=0;t<8;t++)this.arr[t]!==t+1&&e++;return e}},{key:"calc_empty",value:function(){for(var e,t=0;t<this.arr.length;t++)0===this.arr[t]&&(e=t);return e}}]),e}(),k=new g([1,2,3,4,5,6,7,8,0]);function w(e,t){for(var n=0;n<e.arr.length;n++)if(e.arr[n]!==t.arr[n])return!1;return!0}function E(e){var t=[];if(e.empty_pos>2){var n=e.arr.slice();n[e.empty_pos]=n[e.empty_pos-3],n[e.empty_pos-3]=0;var r=new g(n);r.parent=e,t.push(r)}if(e.empty_pos<6){var a=e.arr.slice();a[e.empty_pos]=a[e.empty_pos+3],a[e.empty_pos+3]=0;var i=new g(a);i.parent=e,t.push(i)}if(0!==e.empty_pos&&3!==e.empty_pos&&6!==e.empty_pos){var o=e.arr.slice();o[e.empty_pos]=o[e.empty_pos-1],o[e.empty_pos-1]=0;var s=new g(o);s.parent=e,t.push(s)}if(2!==e.empty_pos&&5!==e.empty_pos&&8!==e.empty_pos){var l=e.arr.slice();l[e.empty_pos]=l[e.empty_pos+1],l[e.empty_pos+1]=0;var c=new g(l);c.parent=e,t.push(c)}return t}function b(e,t){return e.hamming()<t.hamming()}function C(e){for(var t=0,n=0,r=[[],[],[]],a=0;a<9;a++)r[Math.floor(a/3)].push(e[a]),0===e[a]&&(t=Math.floor(a/3),n=a%3);return{grid:r,empty_i:t,empty_j:n}}function j(e){var t,n;n=(t=[]).concat.apply(t,Object(m.a)(e));for(var r=[],a=function(e){var t=[],n=new _(b);for(n.push(e);!n.isEmpty();){var r=n.peek();if(t.push(r),w(r,k))return r;var a=E(r);n.pop();var i=!0,o=!1,s=void 0;try{for(var l,c=a[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,h=!0,p=!0,v=!1,m=void 0;try{for(var f,d=t[Symbol.iterator]();!(p=(f=d.next()).done);p=!0){w(f.value,u)&&(h=!1)}}catch(y){v=!0,m=y}finally{try{p||null==d.return||d.return()}finally{if(v)throw m}}h&&n.push(u)}}catch(y){o=!0,s=y}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}}}(new g(n));-1!==a.parent;)r.push(C(a.arr)),a=a.parent;return r.push(C(a.arr)),r.reverse(),r}var S=null,O=null;function N(e){var t=function(e){return e.touches||e.originalEvent.touches}(e)[0];S=t.clientX,O=t.clientY}function M(e){var t=e.index,n=e.handleClick,r=e.correctPosition;return 0!==e.value?a.a.createElement("span",{style:{cursor:"pointer"},onClick:function(){n(t)},className:"tile ".concat(r&&"tile-correct")},e.value):a.a.createElement("span",{className:"empty"},".")}var z=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).startClock=function(){n.interval=setInterval(n.increment,1e3)},n.stopClock=function(){window.clearInterval(n.interval)},n.increment=function(){n.setState(function(e){return{time:e.time+1}})},n.started_solving=function(){n.setState({could_be_won:!1,solving:!0})},n.solve=function(){var e=j(n.state.grid),t=0;e.length>1&&!n.state.solving&&(n.started_solving(),n.timer=setInterval(function(){t<e.length?(n.setState(e[t]),t++):n.stop_solve()},300),n.reset())},n.stop_solve=function(){clearInterval(n.timer),n.reset(),n.setState({solving:!1})},n.handleChange=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=n.state.grid,o=n.state.empty_i,s=n.state.empty_j;r||(t=e.keyCode),r&&(t=a);var l=40===t&&0!==o,c=38===t&&2!==o,u=39===t&&0!==s,h=37===t&&2!==s;if(l||c||u||h){var p,v;l&&(p=o-1,v=s),c&&(p=o+1,v=s),u&&(p=o,v=s-1),h&&(p=o,v=s+1);var m=i[o][s];i[o][s]=i[p][v],i[p][v]=m,n.setState({grid:i,empty_i:p,empty_j:v})}},n.handleSwipe=function(e){var t=function(e){if(!S||!O)return 0;var t=e.touches[0].clientX,n=e.touches[0].clientY,r=S-t,a=O-n,i=0;return i=Math.abs(r)>Math.abs(a)?r>0?37:39:a>0?38:40,S=null,O=null,i}(e);n.handleChange(e,!0,t),console.log(t)},n.shuffleBoard=function(){n.startClock();var e,t,r,a,i=function(){var e=[],t=[[],[],[]];do{e=v()}while(p(e)%2!==0);for(var n=0;n<e.length;++n)t[Math.floor(n/3)].push(e[n]);return t}();for(e=0;e<=2;e++)for(t=0;t<=2;t++)0===i[e][t]&&(r=e,a=t,t=2,e=2);n.setState({grid:i,empty_i:r,empty_j:a,could_be_won:!0})},n.reset=function(){n.stopClock(),n.setState({grid:[[1,2,3],[4,5,6],[7,8,0]],could_be_won:!1,empty_i:2,empty_j:2,time:0})},n.handleClick=function(e){var t=e.i,r=e.j,a=n.state,i=a.empty_i,o=a.empty_j;i===t+1&&o===r&&n.handleChange(!1,!0,40),i===t-1&&o===r&&n.handleChange(!1,!0,38),o===r-1&&i==t&&n.handleChange(!1,!0,37),o===r+1&&i==t&&n.handleChange(!1,!0,39)},n.calculateTileCorrect=function(e,t,r){return r===e*n.state.grid[0].length+(t+1)},n.state={empty_i:2,empty_j:2,grid:[[1,2,3],[4,5,6],[7,8,0]],could_be_won:!1,time:0,solving:!1},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=function(e){for(var t=[[1,2,3],[4,5,6],[7,8,0]],n=0;n<3;n++)for(var r=0;r<3;r++)if(e[n][r]!==t[n][r])return!1;return!0}(this.state.grid),n=t&&this.state.could_be_won;document.addEventListener("keydown",this.handleChange),document.addEventListener("touchstart",N,!1),document.addEventListener("touchmove",this.handleSwipe,!1);var r=Math.floor(this.state.time/60),i=this.state.time%60;i=i<10?"0"+i:i;var o="".concat(r," : ").concat(i);return n?(this.stopClock(),document.removeEventListener("keydown",this.handleChange),document.removeEventListener("touchstart",N,!1),document.removeEventListener("touchmove",this.handleSwipe,!1),a.a.createElement("div",{style:{display:"grid",justifyItems:"center"}},a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"board"},this.state.grid.map(function(t,n){return a.a.createElement("div",{key:n},t.map(function(t,r){return a.a.createElement(M,{value:e.state.grid[n][r],key:r,correctPosition:e.calculateTileCorrect(n,r,e.state.grid[n][r])})}))})),a.a.createElement("div",{className:"clock"},a.a.createElement("h3",null,o))),a.a.createElement("div",{style:{display:"grid",justifyItems:"center"}},a.a.createElement("h1",null,"You won in ",o),a.a.createElement("button",{onClick:function(){window.location.reload()}},"Play Again")))):a.a.createElement("div",null,a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"board"},this.state.grid.map(function(t,n){return a.a.createElement("div",{key:n},t.map(function(t,r){var i={i:n,j:r};return a.a.createElement(M,{value:e.state.grid[n][r],key:r,index:i,handleClick:e.handleClick,correctPosition:e.calculateTileCorrect(n,r,e.state.grid[n][r])})}))})),a.a.createElement("div",{className:"clock"},a.a.createElement("h3",null,o))),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{onClick:t?this.shuffleBoard:this.reset},t?"START":"RESET"),a.a.createElement("button",{className:"solve",onClick:this.state.solving?this.stop_solve:this.solve},this.state.solving?"STOP":"SOLVE")))}}]),t}(a.a.Component);var I=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"8-TILES"),a.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.980e4dcd.chunk.js.map